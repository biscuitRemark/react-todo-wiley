(this["webpackJsonptodo-wiley"]=this["webpackJsonptodo-wiley"]||[]).push([[0],{14:function(e,t,c){},15:function(e,t,c){},19:function(e,t,c){"use strict";c.r(t);var n=c(1),a=c.n(n),s=c(9),i=c.n(s),o=(c(14),c(4)),r=(c(15),c(6)),d=c(2),j=c(8),l=c.n(j),u=c(0),b={changing:!1,updateItem:{}},O=function(e){var t=e.item,c=e.todos,a=Object(n.useContext)(f),s=Object(n.useState)(b),i=Object(o.a)(s,2),j=i[0],O=i[1],x=Object(n.useCallback)((function(e){a(c.filter((function(t){return t.id!==e})))}),[c,a]),m=Object(n.useCallback)((function(e){a(c.map((function(t){return t.id===e?Object(d.a)(Object(d.a)({},t),{},{completed:!t.completed}):t})))}),[c]),h=Object(n.useCallback)((function(e){O((function(t){return Object(d.a)(Object(d.a)({},t),{},{updateItem:Object(d.a)(Object(d.a)({},t.updateItem),{},{text:e.target.value})})}))}),[j]),p=Object(n.useCallback)((function(){a([].concat(Object(r.a)(c.filter((function(e){return e.id!==j.updateItem.id}))),[Object(d.a)(Object(d.a)({},j.updateItem),{},{updated:new Date,changing:!1})])),O(b)}),[j,c]);return Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)("div",{className:"todo",children:[!j.changing&&Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)("div",{style:{flex:"1 1 0"},children:[Object(u.jsx)("li",{className:t.completed?"todo-item completed":"todo-item",children:t.text}),Object(u.jsxs)("div",{className:"flex",style:{justifyContent:"space-between",paddingTop:"100px!important"},children:[Object(u.jsx)("span",{className:"date-created",children:l()(t.created).format("h:mm:ss a, DD-MM-YY")}),t.updated&&Object(u.jsxs)("span",{className:"date-created",children:["upd: ",l()(t.updated).format("h:mm:ss a, DD-MM-YY")]})]})]}),Object(u.jsxs)("div",{className:"flex",children:[Object(u.jsx)("button",{className:"change-btn",onClick:function(){return O({changing:!0,updateItem:t})},children:Object(u.jsx)("i",{className:"fa fa-edit size-icon"})}),Object(u.jsx)("button",{className:t.completed?"complete-btn check-mark":"complete-btn",onClick:function(){return m(t.id)},children:Object(u.jsx)("i",{className:"fa fa-check size-icon"})}),Object(u.jsx)("button",{className:"trash-btn",onClick:function(){return x(t.id)},children:Object(u.jsx)("i",{className:"fa fa-trash size-icon"})})]})]}),j.changing&&Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("button",{className:"trash-btn",onClick:function(){return O("")},children:Object(u.jsx)("span",{style:{fontSize:"18px"},children:"cancel"})}),Object(u.jsx)("div",{children:Object(u.jsx)("input",{type:"text",className:"todo-input",value:j.updateItem.text,onChange:h})}),Object(u.jsx)("div",{children:Object(u.jsx)("button",{className:"trash-btn",onClick:function(){return p(t.id)},children:Object(u.jsx)("span",{style:{fontSize:"18px"},children:"update"})})})]})]})})},x=function(e){var t=e.arrTodos;return Object(u.jsx)("div",{className:"todo-container",children:Object(u.jsx)("ul",{className:"todo-list",children:t.map((function(e){return Object(u.jsx)(O,{item:e,todos:t},e.id)}))})})},m=function(e){var t=e.text,c=e.setNewText,n=e.todos,a=e.setTodos;return Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)("form",{children:[Object(u.jsx)("input",{value:t,onChange:function(e){var t=e.target.value;c(t)},type:"text",placeholder:"Add a todo"}),Object(u.jsx)("button",{onClick:function(e){e.preventDefault(),t&&(a([].concat(Object(r.a)(n),[{id:100*Math.random(),text:t,completed:!1,changing:!1,updated:"",created:new Date}])),c(""))},className:"todo-button todo-button",type:"submit",children:Object(u.jsx)("i",{className:"fa fa-plus-square"})})]})})},f=Object(n.createContext)();var h=function(){var e=Object(n.useState)(""),t=Object(o.a)(e,2),c=t[0],a=t[1],s=Object(n.useState)([]),i=Object(o.a)(s,2),r=i[0],d=i[1],j=Object(n.useCallback)((function(){localStorage.setItem("todos",JSON.stringify(r))}),[r]);function l(e){d(e.sort((function(e,t){return e.text<t.text?1:e.text>t.text?-1:0})))}return Object(n.useEffect)((function(){var e=localStorage.getItem("todos");e&&l(JSON.parse(e))}),[]),Object(n.useEffect)((function(){j()}),[r,j]),Object(u.jsxs)("div",{className:"App",children:[Object(u.jsx)("header",{style:{fontSize:"40px"},children:"Todo list"}),Object(u.jsxs)("main",{children:[Object(u.jsx)(m,{text:c,setNewText:a,todos:r,setTodos:l}),Object(u.jsx)(f.Provider,{value:l,children:Object(u.jsx)(x,{arrTodos:r})})]})]})};c(18);i.a.render(Object(u.jsx)(a.a.StrictMode,{children:Object(u.jsx)(h,{})}),document.getElementById("root"))}},[[19,1,2]]]);
//# sourceMappingURL=main.c172cce7.chunk.js.map